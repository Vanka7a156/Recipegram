{% extends 'base.html' %}
{% block content %}

<h2>Profile of {{ profile_user.username }}</h2>

<!-- Profile picture -->
{% if profile_user.userprofile.profile_picture %}
    <img src="{{ profile_user.userprofile.profile_picture.url }}" class="img-thumbnail mb-3" style="max-width: 200px;" alt="Profile Picture">
{% else %}
    <div class="bg-secondary text-white rounded-circle d-flex align-items-center justify-content-center mb-3"
         style="width: 150px; height: 150px; font-size: 36px;">
        {{ profile_user.username|first|upper }}{{ profile_user.username|slice:"1:2"|upper }}
    </div>
{% endif %}

<!-- Bio -->
{% if profile_user.userprofile.bio %}
    <p><strong>Bio:</strong> {{ profile_user.userprofile.bio }}</p>
{% endif %}

<hr>

<h3>{{ profile_user.username }}'s Recipes</h3>
<ul class="list-group">
    {% for recipe in recipes %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
            <a href="{% url 'recipe-detail' recipe.pk %}">{{ recipe.title }}</a>
            <span class="text-muted">{{ recipe.created_at|date:"Y-m-d H:i" }}</span>
        </li>
    {% empty %}
        <li class="list-group-item">This user hasn't posted any recipes yet.</li>
    {% endfor %}
</ul>

{% endblock %}

